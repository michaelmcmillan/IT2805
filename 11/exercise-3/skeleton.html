<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Graphics and animation using HTML5 Canvas</title>
        <style>
            #the-canvas { border: 1px dashed gray }
        </style>
        <script>
            addEventListener('load', function() {
                /* Elements */
                var canvas = document.getElementById('the-canvas');
                var ctx    = canvas.getContext("2d");

                /* Circle */
                ctx.beginPath();
                ctx.arc(100, 200, 50, 0, Math.PI * 2);
                ctx.closePath();
                ctx.fillStyle = 'red';
                ctx.fill();

                /* Square */
                ctx.fillStyle = 'blue';
                ctx.fillRect(300, 150, 100, 100);

                /* Image */
                var doge   = {x: 175, y: 150};
                var img    = new Image(80, 80);
                img.src    = 'doge.jpg';
                img.onload = function () {
                    ctx.drawImage(img, doge.x, doge.y);
                };

                /* Animate */
                var radius = 150, theta = 150;

                setInterval(function () {
                    ctx.clearRect(doge.x, doge.y, img.height, img.width);
                    angle += Math.acos(1-Math.pow(radius, 2)/2);

                    doge.x = Math.floor(Math.sin(doge.x));
                    doge.y = Math.floor(Math.cos(doge.y));

                    img.onload();
                }, 1);
            });
        </script>
    </head>
    <body>
        <canvas id="the-canvas" width="500" height="400">
            Your browser does not support the &lt;canvas&gt; element.
        </canvas>
    </body>
</html>
